<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0034)http://etc.janestreet.com/handout/ -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" class="gr__etc_janestreet_com"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>etc</title>

<meta name="title" content="etc">
<meta name="generator" content="Org-mode">
<meta name="generated" content="2017-02-24T15:44-0500">
<meta name="author" content="Ubuntu">
<meta name="description" content="">
<meta name="keywords" content="">
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="./Jane Street Info Page_files/style.css">
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

<style type="text/css">
:root #content > #center > .dose > .dosesingle,
:root #content > #right > .dose > .dosesingle
{ display: none !important; }</style></head>
<body data-gr-c-s-loaded="true">

<div id="preamble">

</div>

<div id="content">
<h1 class="title">etc</h1>





<img id="handout-logo" src="./Jane Street Info Page_files/etc_logo.svg">
<div id="handout">


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="http://etc.janestreet.com/handout/#sec-1">1 Introduction to the competition</a></li>
<li><a href="http://etc.janestreet.com/handout/#sec-2">2 Introduction to trading</a></li>
<li><a href="http://etc.janestreet.com/handout/#sec-3">3 The competition structure</a></li>
<li><a href="http://etc.janestreet.com/handout/#sec-4">4 Some golden rules</a></li>
<li><a href="http://etc.janestreet.com/handout/#sec-5">5 Risk limits</a></li>
<li><a href="http://etc.janestreet.com/handout/#sec-6">6 Technical details</a></li>
<li><a href="http://etc.janestreet.com/handout/#sec-7">7 Running and testing your bots</a></li>
<li><a href="http://etc.janestreet.com/handout/#sec-8">8 Advice from the devs</a></li>
<li><a href="http://etc.janestreet.com/handout/#sec-9">9 Advice from the traders</a></li>
<li><a href="http://etc.janestreet.com/handout/#sec-10">10 FAQ</a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Introduction to the competition</h2>
<div class="outline-text-2" id="text-1">

<p><code>etc</code> is a programming competition. The goal is to write a program that will make
(fake) money by trading securities on a fake financial exchange.  Other
participants in the market will be other people's programs, and also some
programs provided by us (the "marketplace bots").
</p>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Introduction to trading</h2>
<div class="outline-text-2" id="text-2">


</div>

<div id="outline-container-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> The business of market making</h3>
<div class="outline-text-3" id="text-2-1">

<p>Market making is one way that firms participate on the financial markets. The
purpose of market making is to act as a intermediary for other people's trading.
For example, suppose Alice wants to buy some shares, and Bob wants to sell some.
It seems good for them to trade with each other, but if we require that they
meet at the exchange at the same time, this is not likely to be efficient. If
this were really how markets worked, you might be afraid to invest.  Who knows
whether you'd be lucky enough to find a buyer when it came to sell
them? And if you did find a counterparty, how would you agree on a
fair price?
</p>
<p>
Market makers are always willing to buy and always willing to sell. They have
some conception of how much a security is worth right now, but no long term
interest in owning the security. Market makers are always willing to buy at
slightly below that price or sell slightly above.  You can think of market
making a bit like running a supermarket: you are simply the link between the
sellers of goods (wholesale producers) and the buyers (shoppers). You charge
some premium on your wholesale purchase price in order to make a profit.  You
want to keep your inventory (i.e., your positions) small in order to not be
exposed to stocks, on which you don't really have a long-term opinion,
crashing.
</p>
<p>
It's important to note that it's wrong to think of trading as strictly a
zero-sum game. In particular, there will be other participants in the <code>etc</code>
market beyond the bots you create. Some of these might act like "investors" --
people just wishing to buy (or sell) securities, who want to keep that position
for a long time, putting capital at risk in order to earn a return. They're not
very sensitive to the price, since they mostly just trust that the market has
the fair price for the security right now. So they're likely to buy or sell on
whatever market they see. Other participants are competing with you – they have
a rough idea of what they think the security is worth, and they'll try to buy below
that and sell above it.
</p>
</div>

</div>

<div id="outline-container-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> The order book</h3>
<div class="outline-text-3" id="text-2-2">

<p>An "order" is an instruction to buy or sell a security. The parameters you
provide are:
</p>
<ul>
<li>The name of the security you want to trade
</li>
<li>Whether you want to buy or sell
</li>
<li>The "worst" price you're willing to transact at (i.e. the highest price
  you're willing to buy for, if you're buying, or the lowest price you're
  willing to sell at if you're selling).
</li>
<li>How many shares / contracts of this particular security you want to buy or
  sell.
</li>
</ul>


<p>
An exchange is a program that matches up people who are willing to buy and sell
in the following way.
</p>
<p>
Suppose you're the first person to send an order that day. You send: buy 10 BOND
shares for $95. No-one is willing to trade against you right now, so the
exchange just enters your order into a "book" and it sits there.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="left"><col class="left"><col class="left"><col class="left">
</colgroup>
<tbody>
<tr><td class="left"></td><td class="left">buys</td><td class="left">sells</td><td class="left"></td></tr>
<tr><td class="left">10</td><td class="left">$95</td><td class="left"></td><td class="left"></td></tr>
</tbody>
</table>


<p>
Let's say someone else comes along and also sends a buy order for $95, for 100
shares. They can't trade with you – you both want to buy. So now the book
looks like this:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="left"><col class="left"><col class="left"><col class="left">
</colgroup>
<tbody>
<tr><td class="left"></td><td class="left">buys</td><td class="left">sells</td><td class="left"></td></tr>
<tr><td class="left">110</td><td class="left">$95</td><td class="left"></td><td class="left"></td></tr>
</tbody>
</table>


<p>
Note that the exchange displays the sum of all of the orders at a given price
point and doesn't divide it up into the individual orders.
</p>
<p>
A few more people come in and send: a sell order for 500 shares at $101, a sell
order for 50 shares at $102, and a sell order for 3000 shares at $105. There is
still no trading – the most anyone is willing to buy for is $95, but the least
anyone is willing to sell for is $101.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="left"><col class="left"><col class="left"><col class="right">
</colgroup>
<tbody>
<tr><td class="left"></td><td class="left">buys</td><td class="left">sells</td><td class="right"></td></tr>
<tr><td class="left">110</td><td class="left">$95</td><td class="left">$101</td><td class="right">500</td></tr>
<tr><td class="left"></td><td class="left"></td><td class="left">$102</td><td class="right">50</td></tr>
<tr><td class="left"></td><td class="left"></td><td class="left">$105</td><td class="right">3000</td></tr>
</tbody>
</table>


<p>
Finally, someone comes along and sends a sell order for 30 shares at a price of
$95. This can trade with the buy orders. Which orders get "filled"? The 10-share
order gets fully filled first, as that was on the exchange first (this is called
"price-time priority": the orders are sorted first by price, and then by age).
The owner of that order gets a message saying their order has traded. Then there
are 20 shares left to transact, and they form a partial fill of the 100-share
order. That person gets a message too. And of course, the person who sent the
sell order gets a message (or possibly multiple messages) about their fills.
</p>
<p>
After that's all done, the book looks like this:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="left"><col class="left"><col class="left"><col class="right">
</colgroup>
<tbody>
<tr><td class="left"></td><td class="left">buys</td><td class="left">sells</td><td class="right"></td></tr>
<tr><td class="left">80</td><td class="left">$95</td><td class="left">$101</td><td class="right">500</td></tr>
<tr><td class="left"></td><td class="left"></td><td class="left">$102</td><td class="right">50</td></tr>
<tr><td class="left"></td><td class="left"></td><td class="left">$105</td><td class="right">3000</td></tr>
</tbody>
</table>


</div>

</div>

<div id="outline-container-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> Price improvement</h3>
<div class="outline-text-3" id="text-2-3">

<p>Any given trade is always between an order that was previously on the
book (the "resting" order), and one that comes in and never gets
entered into the book.
</p>
<p>
The price of a trade is always that of the <b>resting</b> order. For
example, if there is a resting order to buy for 80, and someone sends
an order to sell for 70, a trade goes up at the price of 80.
</p>
</div>

</div>

<div id="outline-container-2-4" class="outline-3">
<h3 id="sec-2-4"><span class="section-number-3">2.4</span> The exchange protocol</h3>
<div class="outline-text-3" id="text-2-4">

<p>What sorts of messages form the protocol between the exchange and you?
</p>
<p>
You to exchange:
</p><ul>
<li>Adds: a request to buy or sell a security; "add order".
</li>
<li>Cancels: a request to remove from the book some previously-placed order that
  hasn't traded yet.
</li>
</ul>


<p>
Exchange to you (private):
</p><ul>
<li>Order acks: "your order was successfully placed on the book"
</li>
<li>Rejects: "your order wasn't valid for this reason: …" (e.g. negative price,
  malformed syntax etc.)
</li>
<li>Outs: following a cancel or once your order is completely filled, "your order
  is no longer on the book".
</li>
<li>Fill: your order traded.
</li>
</ul>


<p>
Exchange to you (public):
</p><ul>
<li>Book: "the current state of the book is…"
</li>
<li>Trade: "two (anonymous) people traded at price X"
</li>
</ul>


<p>
<code>etc</code> also has a concept of "conversions" which are another type of
message between you and the exchange. These are described later.
</p>
<p>
The technical specifications for this protocol is listed at the bottom of this
document.
</p>
</div>

</div>

<div id="outline-container-2-5" class="outline-3">
<h3 id="sec-2-5"><span class="section-number-3">2.5</span> Your portfolio</h3>
<div class="outline-text-3" id="text-2-5">

<p>You have an account (like a bank account) that can hold both currency and shares in
financial securities. At the beginning of each matchup your account is empty --
no currency, no shares. The number of shares of a particular security that you own
is called your <i>position</i> in that security. If you buy a share by paying a currency, 
your position in that currency goes down and your position in that stock goes up. 
If you sell, the opposite. In this competition, the only currency we'll be dealing
with is USD (US Dollars). Since USD is the only currency we'll be using, we may refer
to it as "cash" in this handout.
</p>
<p>
Note that it is possible to have a negative position in any product, including 
currencies – you can effectively borrow money or shares from the bank at which you 
hold the account. (There are limits on this – see below.)
</p>
</div>

</div>

<div id="outline-container-2-6" class="outline-3">
<h3 id="sec-2-6"><span class="section-number-3">2.6</span> Common stocks and ETFs</h3>
<div class="outline-text-3" id="text-2-6">

<p>Many companies have securities that you can trade, "shares", which represent
ownership of a fraction of the company.
</p>
<p>
Some people however might want to invest in a market in general—they want to
invest in a range of companies, not just one. For example in the UK a popular
choice is to invest in the "FTSE 100", a list of the 100 biggest UK companies.
Going out and buying stocks of all 100 companies is time consuming and
difficult for your average investor, so to make it easier, products called
"ETFs" exist. A FTSE 100 ETF is a piece of paper that you can turn in to a
certain company who in return will give you back "the basket" of all 100 stocks
(in specified proportions). Conversely, if you have the right amount of all 100
stocks, you can hand them to that person who will in return give you one share
of the ETF.
(These actions are called "redeeming" and "creating" respectively, but we'll refer
to both directions as "converting" to remain consistent with the exchange's
terminology.)
</p>
<p>
This piece of paper itself trades on the exchange, so by buying it you can
invest in the FTSE 100 in one single trade—convenient, and cheaper.
</p>
</div>

</div>

<div id="outline-container-2-7" class="outline-3">
<h3 id="sec-2-7"><span class="section-number-3">2.7</span> Some basic trading strategies</h3>
<div class="outline-text-3" id="text-2-7">

<p>So the idea is:
</p>
<ul>
<li>Have some idea of a fair value for each security
</li>
<li>Attempt to buy the security for less than fair, and sell it for more than fair.
</li>
</ul>



</div>

<div id="outline-container-2-7-1" class="outline-4">
<h4 id="sec-2-7-1"><span class="section-number-4">2.7.1</span> Fair values</h4>
<div class="outline-text-4" id="text-2-7-1">

<p>How might you come up with a fair value in the first place? Since markets (both
in the real world and in this competition) tend to be fairly efficient most of
the time, a good starting point is that fair value is probably between the best
price ("bid") anyone is willing to pay, and best sell price ("offer") anyone is
willing to accept; half-way between these ("mid") is usually a good starting
place for fair.
</p>
<p>
There are some classes of security for which coming up with a better fair is
relatively straightfoward. For example, as mentioned above, ETFs basically
represent a basket of other securities. If there is an ETF called FRED, and one
share of FRED contains 0.5 shares of HENRY and 4 shares of EMMA, then it should
be fairly clear what the fair value for FRED is given a fair value for HENRY and
EMMA.
</p>
<p>
For non-ETF securities, it is less obvious what you might do. In
general, predicting whether a stock will go up or down is hard, so it
is unlikely you will be able to make money by betting on a stock going
up or down. That said, it can still be possible to make money by
providing liquidity in these stocks, but we we will give no further
hints in this section :)
</p>

</div>

</div>

<div id="outline-container-2-7-2" class="outline-4">
<h4 id="sec-2-7-2"><span class="section-number-4">2.7.2</span> Trading from your fair value</h4>
<div class="outline-text-4" id="text-2-7-2">

<p>It may seem that all the trickery is in coming up with a fair, and indeed it is
possible to do some very complex things in that space. But it's also not
obvious how to trade around it. Let's look at some basic ideas.
</p>
<p>
If you think a financial security is worth exactly $100, it is impossible to
make money by sending buy or sell orders at exactly $100. Obviously, you'll
want to send buy orders below $100 and sell orders above there. The difference
between the price of an order or fill and your fair value is called the edge.
More precisely:
</p>
<pre class="example"> edge = dir_sign * (fair value - order price)
 where dir_sign = 1 for buying and -1 for selling
</pre>


<p>
The way to think about edge is that it is the profit you earn by completing
that trade.
</p>
<p>
So given a fair value, where should you send orders? Let's look at two ideas:
</p>
</div>

</div>

<div id="outline-container-2-7-3" class="outline-4">
<h4 id="sec-2-7-3"><span class="section-number-4">2.7.3</span> Pennying</h4>
<div class="outline-text-4" id="text-2-7-3">

<p>You want to earn the most edge you can. Pennying is the idea that you look at
the current best bid and ask price, and send orders the minimum amount "inside"
that. I.e. you send a buy order at [current best bid + 1] and/or a sell order at
[current best offer - 1].
</p>
<p>
This kind of strategy is an example of "providing liquidity". You place orders on the
book, and when price-insensitive people want to come along and trade, they find
your orders already sitting there, and trade against them.
</p>
</div>

</div>

<div id="outline-container-2-7-4" class="outline-4">
<h4 id="sec-2-7-4"><span class="section-number-4">2.7.4</span> Taking</h4>
<div class="outline-text-4" id="text-2-7-4">

<p>On rare occasions, you might believe that the fair value is outside the current
best bid and offer, in which case you might want to trade with the current
market. For example, if you think [fair value] &gt; [current best offer], you might
send a buy order at [current best offer] to trade with the offer.
</p>
<p>
This kind of strategy is often referred to as "taking liquidity".
</p>
<p>
WARNING: You generally need to have a good idea of fair value to make money by
taking! Remember markets are generally fairly efficient most of the time!
</p>

</div>
</div>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> The competition structure</h2>
<div class="outline-text-2" id="text-3">

<p>The competition consists of a series of five minute matchups. In each matchup,
you and another team compete to be the best market maker, providing liquidity
to a third bot called the "marketplace".
</p>
<p>
The marketplace has an internal random process for each stock which represents
the fair value of that stock. (At the end of the matchup, the portfolio you
have amassed will be evaluated using these fair values – see later.) The
marketplace will send some orders around the fair value. Some orders will, like
yours, be orders intended to provide liquidity. Other orders from the
marketplace will be emulating liquidity demanders – people who just wish to
buy or sell a certain amount of shares, and don't care too much about the price
they get.
</p>
<p>
In particular, it is not the marketplace's job to make money. Although
technically speaking the marketplace is a "bot", its positions or pnl is not
very relevant. The marketplace is meant to represent a whole bunch of different
market participants, some of whom are more price-sensitive than others. This is
representative of the fact that we mentioned above – it's unhelpful to think of
trading as a zero-sum game.
</p>
<p>
You can choose to participate, or not, in a given matchup, or join after the
match up begins, or give up halfway through – whatever you want.
</p>
<p>
At the end of a matchup, the exchange closes and then reopens shortly
afterwards for the next matchup, where you'll be playing alongside a different team.
We reset your cash and positions too. You'll want to make sure your
bot can reconnect automatically when the exchange re-opens for the
next matchup.
</p>
<p>
<b>BE CAREFUL</b> – you should not assume that the values of securities in
one game will be the same as the values in a previous game.
</p>

</div>

<div id="outline-container-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Scoring</h3>
<div class="outline-text-3" id="text-3-1">

<p>Once each matchup is over, we first calculate your profit/loss (aka "pnl") by
taking the amount of cash in your account (e.g. if you buy a security for 10,
and then sell it for 12, you would have 2 cash in your account), and adding the
value of all your holdings (again, as determined by the marketplace's internal
notion of fair value). We turn this into a score by putting it through a
concave function. The idea is to incentivise never doing very poorly. This is
reflective of the real world: you may do particularly well on some days, but
you really want to avoid losing all your money because then you're out of a
job. However, the function will be reasonably linear over most plausible
positive pnls.
</p>
<p>
At the end of the day, we will put all your game's scores together into an
overall score – see the next section.
</p>
</div>

</div>

<div id="outline-container-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> Timetable and scoring</h3>
<div class="outline-text-3" id="text-3-2">


<p>
Matchups will run (more-or-less) continuously between 11:30 am and 9:00 pm.
</p>
<p>
Here's how your score for each individual matchup will contribute to your
overall competition score.
</p>
<ol>
<li>"Phase A" (1.5 hr): 20% - 11:30 am through 1:00 pm.

</li>
<li>"Phase B" (2 hrs):  5%  - 1:00 pm  through 3:00 pm.

</li>
<li>"Phase C" (2 hrs):  10% - 3:00 pm  through 5:00 pm.

</li>
<li>"Phase D" (2 hrs):  15% - 5:00 pm  through 7:00 pm.

</li>
<li>"Phase E" (1 hr):   20% - 7:00 pm  through 8:00 pm.

</li>
<li>"Phase F" (1 hr):   30% - 8:00 pm  through 9:00 pm.
</li>
</ol>


</div>

</div>

<div id="outline-container-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> Technical details</h3>
<div class="outline-text-3" id="text-3-3">

<p>See the "technical details" section below.
</p>
</div>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Some golden rules</h2>
<div class="outline-text-2" id="text-4">

<ol>
<li>You must not attempt to manipulate other people's bots.
</li>
<li>You must not attempt to manipulate the exchange.
</li>
<li>Your bot should be entirely written by your team today (standard libraries are fine).
</li>
</ol>


<p>
You are building a bot to provide a service to the marketplace bots, and
competing to do so in the best possible way.
</p>
<p>
Some examples of what would count as manipulation:
</p><ul>
<li>Trading with yourself in order to publish "fake" trades to all participants,
  in an attempt to have them believe the trade price is a reasonable fair value
  for the security.
</li>
<li>Sending orders to the exchange where you know at the time of sending that you
  want to cancel the orders and never let them trade. If you think it would be
  a bad idea to buy security for price P, then you shouldn't send orders to
  buy that security for price P.
</li>
</ul>


<p>
Don't download a bot from the internet and run that instead of writing a bot. Or
other silly things like that. Basically, don't be a jerk.
</p>
<p>
We reserve the right to subtract some from your bot's profit, or disqualify you
completely, if we feel you've violated these rules. Obviously they are somewhat
vague. Please come talk to us if you have any concerns. If you find a bug in the
exchange, please tell us. If you think someone else has been deliberately
manipulating your bot, please tell us too.
</p>
</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Risk limits</h2>
<div class="outline-text-2" id="text-5">

<p>Your position in each security will be limited, with the limits
depending on which stock or ETF you're trading- see below for a table.
For example, in XLF, the position limit is 100 shares; that means
your position in XLF may never be less than -100 or greater than
+100.  In the real world, our positions are limited by the availablity
of stock borrow, capital constraints, and crash risk.  Obviously, the
greater your position, the more exposed you are to a crash in this security.
</p>
<p>
These are enforced by the exchange: if you send an order such that, if it and all
orders in the same symbol and direction were filled to their entire quantity,
would put you over your position limits, then your order will be rejected.
</p>
<p>
There are no direct limits on your cash balance in either direction.
</p>
<p>
However, there are limits on your profit/loss. If at some point you get to a
stage where your current score (according to the above methodology) is too
negative, you will be determined to have "blown out". We'll stop your
participation in that matchup there, and close any positions you have at the
fair value at that time. The limit is -30,000.
</p>
</div>

</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Technical details</h2>
<div class="outline-text-2" id="text-6">


</div>

<div id="outline-container-6-1" class="outline-3">
<h3 id="sec-6-1"><span class="section-number-3">6.1</span> Do not remove our SSH authorized keys on your bot box     </h3>
<div class="outline-text-3" id="text-6-1">

<p>We need to be able to SSH into the bot boxes in order to connect them to the
production exchanges. If you remove us, your bot will not be able to compete.
</p>
</div>

</div>

<div id="outline-container-6-2" class="outline-3">
<h3 id="sec-6-2"><span class="section-number-3">6.2</span> Connecting to the exchange</h3>
<div class="outline-text-3" id="text-6-2">

<p>You must establish a TCP connection to the exchange. There is a different port
depending on whether you want to use the plain-text protocol or the JSON
protocol (see below).
</p>
<p>
Each team may have at most one connection open to the exchange at any time.
</p>
<p>
If you have never done any socket programming before, you might want to Google
for some tutorials for writing TCP clients. Both the "plain" and JSON and
protocols are line based—that is, every message ends with a newline—so
you might want to look for advice about line buffering. Here are some
starting points for a few languages:
</p>
<ul>
<li>Python:
</li>
</ul>




<pre class="example">#!/usr/bin/python
from __future__ import print_function

import sys
import socket
import json

def connect():
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.connect(("test-exch-teamname", 25000))
    return s.makefile('rw', 1)

def write(exchange, obj):
    json.dump(obj, exchange)
    exchange.write("\n")

def read(exchange):
    return json.loads(exchange.readline())

def main():
    exchange = connect()
    write(exchange, {"type": "hello", "team": "TEAMNAME"})
    hello_from_exchange = read(exchange)
    print("The exchange replied:", hello_from_exchange, file=sys.stderr)

if __name__ == "__main__":
    main()
</pre>

<ul>
<li>C/C++:
</li>
</ul>




<pre class="example">#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;unistd.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;arpa/inet.h&gt;

void perror_die(const char *message)
{
    perror(message);
    exit(1);
}

void fgets_drop_newline_or_die(char *buf, size_t buf_len, FILE *exchange_in)
{
    char *res = fgets(buf, buf_len, exchange_in);
    if (res == NULL)
    {
        fprintf(stderr, "fgets failed\n");
        exit(1);
    }

    size_t len = strlen(buf);
    if (len == 0 || res[len - 1] != '\n')
    {
        fprintf(stderr, "fgets failed: no \\n terminator");
        exit(1);
    }

    buf[len - 1] = 0;
}

void send_line(FILE* exchange_out, char *message)
{
    int res = fprintf(exchange_out, "%s\n", message);
    if (res &lt; 0)
    {
        perror_die("error sending to exchange");
    }
}

int main(int argc, char *argv[])
{
    int sock = socket(AF_INET, SOCK_STREAM, 0);
    if (sock &lt; 0) perror_die("socket");

    struct sockaddr_in server;
    /* Replace with the IP you want: try "host test-exch-teamname" from the
       command-line */
    server.sin_addr.s_addr = inet_addr("1.2.3.4");
    server.sin_family = AF_INET;
    server.sin_port = htons(20000);

    int res = connect(sock, ((struct sockaddr *) &amp;server), sizeof(server));
    if (res &lt; 0) perror_die("could not connect");

    FILE *exchange_in = fdopen(sock, "r");
    if (exchange_in == NULL) perror_die("fdopen");
    FILE *exchange_out = fdopen(sock, "w");
    if (exchange_out == NULL) perror_die("fdopen");

    setlinebuf(exchange_in);
    setlinebuf(exchange_out);

    /* In this example, we assume that no message from the exchange is longer
       than 10,000 chars */
    char buf[10000];

    send_line(exchange_out, "HELLO TEAMNAME");
    fgets_drop_newline_or_die(buf, sizeof(buf), exchange_in);

    fprintf(stderr, "The exchange replied: %s\n", buf);
    return 0;
}
</pre>

<ul>
<li>OCaml: look at lib/async_extra/src/tcp.mli. E.g:
</li>
</ul>




<pre class="example">open Core.Std
open Async.Std

let main () =
  let to_hap = Tcp.to_host_and_port "test-exch-teamname" 20000 in
  Tcp.with_connection to_hap (fun _socket reader writer -&gt;
    Writer.write_line writer "HELLO TEAMNAME";
    Pipe.iter_without_pushback (Reader.lines reader) ~f:(fun line -&gt;
      printf "The exchange said: %s\n" line
    )
  )

let cmd =
  Command.async
    ~summary:"my bot"
    Command.Spec.empty
    main

let () = Command.run cmd
</pre>

<ul>
<li>Java:
</li>
</ul>




<pre class="example">import java.lang.*;
import java.io.PrintWriter;
import java.io.InputStreamReader;
import java.io.BufferedReader;
import java.net.Socket;

public class Bot
{
    public static void main(String[] args)
    {
        try
        {
            Socket skt = new Socket("test-exch-teamname", 20000);
            BufferedReader from_exchange = new BufferedReader(new InputStreamReader(skt.getInputStream()));
            PrintWriter to_exchange = new PrintWriter(skt.getOutputStream(), true);

            to_exchange.println("HELLO TEAMNAME");
            String reply = from_exchange.readLine().trim();
            System.err.printf("The exchange replied: %s\n", reply);
        }
        catch (Exception e)
        {
            e.printStackTrace(System.out);
        }
    }
}
</pre>


<p>
Note that the model is different to a request/response protocol like HTTP: you
connect, and the server continually sends you data, as soon as an event (e.g. a
trade or new order) occurs. There is no need (and indeed, no way) to regularly
ask the server what the current status is.
</p>
</div>

</div>

<div id="outline-container-6-3" class="outline-3">
<h3 id="sec-6-3"><span class="section-number-3">6.3</span> Overview</h3>
<div class="outline-text-3" id="text-6-3">

<p>You have free choice of using a plain-text protocol, or JSON; they will be
available on different TCP ports (see below).
</p>

</div>

<div id="outline-container-6-3-1" class="outline-4">
<h4 id="sec-6-3-1"><span class="section-number-4">6.3.1</span> Client messages</h4>
<div class="outline-text-4" id="text-6-3-1">





<pre class="example">HELLO TEAMNAME
ADD ID SYMBOL BUY|SELL PRICE SIZE
CONVERT ID SYMBOL BUY|SELL SIZE
CANCEL ID

{"type": "hello", "team": "ASDF"}
{"type": "add", "order_id": N, "symbol": "SYM", "dir": "BUY", "price": N, "size": N}
{"type": "convert", "order_id": N, "symbol": "SYM", "dir": "BUY", "size": N}
{"type": "cancel", "order_id": N}
</pre>


</div>

</div>

<div id="outline-container-6-3-2" class="outline-4">
<h4 id="sec-6-3-2"><span class="section-number-4">6.3.2</span> Server messages</h4>
<div class="outline-text-4" id="text-6-3-2">





<pre class="example">HELLO SYM:POSN SYM:POSN ...
OPEN SYM SYM SYM ...
CLOSE SYM SYM SYM ...
ERROR MSG
BOOK SYMBOL BUY PRICE:SIZE PRICE:SIZE ... SELL PRICE:SIZE PRICE:SIZE ...
TRADE SYMBOL PRICE SIZE
ACK ID
REJECT ID MSG
FILL ID SYMBOL DIR PRICE SIZE
OUT ID

{"type":"hello","symbols":[{"symbol":"SYM","position":N}, ...]}
{"type":"open","symbols":["SYM1", "SYM2", ...]}
{"type":"close","symbols":["SYM1", "SYM2", ...]}
{"type":"error","error":"MSG"}
{"type":"book","symbol":"SYM","buy":[[PRICE,SIZE], ...],"sell":[...]}
{"type":"trade","symbol":"SYM","price":N,"size":N}
{"type":"ack","order_id":N}
{"type":"reject","order_id":N,"error":"MSG"}
{"type":"fill","order_id":N,"symbol":"SYM","dir":"BUY","price":N,"size":N}
{"type":"out","order_id":N}
</pre>


<p>
Please note that the protocol is case sensitive, and you should imitate the
above.
</p>
</div>
</div>

</div>

<div id="outline-container-6-4" class="outline-3">
<h3 id="sec-6-4"><span class="section-number-3">6.4</span> "Types"</h3>
<div class="outline-text-3" id="text-6-4">

<ul>
<li>DIR: A direction is one of "BUY" or "SELL".
</li>
<li>TEAMNAME, SYMBOL: Team names and symbols are uppercase alpha only.
</li>
<li>PRICE, SIZE: Prices and sizes are positive integers strictly less
  than 1000000.
</li>
<li>POSN: Positions are integers (at least smaller than 2^32)
</li>
<li>ID: Order ids are non-negative integers (at least smaller than 2^32)
</li>
<li>MSG: Arbitrary strings potentially including spaces (but they won't contain
  newlines or nulls or anything tricksy).
</li>
</ul>


</div>

</div>

<div id="outline-container-6-5" class="outline-3">
<h3 id="sec-6-5"><span class="section-number-3">6.5</span> Handshake</h3>
<div class="outline-text-3" id="text-6-5">

<p>You must issue the "hello" message first, and you must be accurate with your
team name—don't impersonate someone else!
</p>
<p>
You will immediately receive a "hello" from the exchange (or an error). The
hello will include your current positions in each symbol (including USD). At 
the start these will all be zero; these numbers are only useful to you if you 
crash and reconnect (which you shouldn't be planning on doing!).
</p>
</div>

</div>

<div id="outline-container-6-6" class="outline-3">
<h3 id="sec-6-6"><span class="section-number-3">6.6</span> Errors</h3>
<div class="outline-text-3" id="text-6-6">

<p>"Error" and "reject" messages are the server complaining about your bot.
If the server is able to associate the error with an "add" message, then
it will send a "reject" with the order id that failed and the error message.
Otherwise, you will simply receive an "error".
</p>
<p>
If the server detects that you have disconnected then all of your open orders
will be canceled.
</p>
</div>

</div>

<div id="outline-container-6-7" class="outline-3">
<h3 id="sec-6-7"><span class="section-number-3">6.7</span> Available symbols</h3>
<div class="outline-text-3" id="text-6-7">

<p>The following symbols are available at the start of the competition:
</p>
<ul>
<li>BOND
</li>
<li>VALBZ
</li>
<li>VALE
</li>
<li>GS
</li>
<li>MS
</li>
<li>WFC
</li>
<li>XLF
</li>
</ul>


<p>
The symbol BOND has a marketplace fair value of precisely 1000 at all
times, but could possibly trade at other prices.
</p>
<p>
Symbols GS, MS, WFC, and VALBZ are regular equities.
</p>
<p>
The symbol XLF is an ETF. 10 shares of XLF can be converted to/from a basket of:
</p><ul>
<li>3 BOND
</li>
<li>2 GS
</li>
<li>3 MS
</li>
<li>2 WFC
</li>
</ul>

<p>You must convert XLF in multiples of 10.
The conversion fee for XLF is a fixed cost of 100 per conversion (regardless of size).
</p>
<p>
The symbol VALE is an ADR of VALBZ (you can think of this as an ETF
with one component).
1 share of VALE can be converted to/from 1 share of VALBZ.
The conversion fee for VALE is a fixed cost of 10 per conversion (regardless of size).
</p>
<p>
The position limits in the following symbols are -100 to +100:
BOND GS MS WFC XLF
</p>
<p>
The position limits in the following symbols are -10 to +10:
VALBZ VALE
</p>
</div>

</div>

<div id="outline-container-6-8" class="outline-3">
<h3 id="sec-6-8"><span class="section-number-3">6.8</span> Orders</h3>
<div class="outline-text-3" id="text-6-8">

<p>You, the client, pick unique identifiers for your orders and send it along
with the rest of the details in the "add message". Ack, reject, fill and out
messages will refer to the order by this identifier. It need not be globally
unique, merely unique to your connection to the exchange. Besides these
restrictions, you may pick them however you like.
</p>
<p>
To, say, enter a buy order for BOND with price 123 and size 50, issue:
</p>
<pre class="example"> ADD 5 BOND BUY 123 50
</pre>


<p>
You will receive either:
</p>
<pre class="example"> ACK 5
</pre>


<p>
or:
</p>
<pre class="example"> REJECT 5 REASON
</pre>


<p>
where "REASON" might be one of the strings mentioned above.
</p>
<p>
Suppose that your order could trade immediately with a "sell 10 at $120" order
that was resting on the market. Shortly after the ack you would receive:
</p>
<pre class="example"> FILL 5 BOND BUY 120 10
</pre>


<p>
The fill contains a reminder of what the order's symbol and direction, the
price that the order traded at, and the number of shares that traded.
</p>
<p>
Note that your order is still on the market, but now its size is 40.
</p>
<p>
When your order has been fully filled, you will also receive an "out" message.
Continuing the above example, if a little later on, someone else submitted a
large low sell order, you would receive
</p>
<pre class="example"> FILL 5 BOND BUY 123 40
 OUT 5
</pre>


<p>
Note that at roughly the same time as you receive a "fill" message, you will
also receive a "trade" message; see below.
</p>
<p>
To cancel an order, issue
</p>
<pre class="example"> CANCEL 5
</pre>


<p>
The reply will be
</p>
<pre class="example"> OUT 5
</pre>


<p>
Provided you have completed the handshake, "cancel" messages never fail: you
will always receive an "out" reply, even if the server does not recognise that
order. If a cancel and a fill race (and the cancel loses), you might receive
two outs for the same order id. Furthermore, you might receive an out for an
order that was neither cancelled by you nor fully filled (an "unsolicited
out"), if the exchange decides it wants to cancel your order for some specific
reason. You may wish to ignore outs you don't recognise.
</p>
<p>
Conversions to and from an ETF are done using the CONVERT message, which is
similar to ADD but without a price:
</p>
<pre class="example"> CONVERT 4 XLF BUY 20
</pre>


<p>
Saying "BUY" means you receive the ETF and give out the basket. Saying "SELL"
means you give out the ETF and receive the constituent basket of stocks and
cash. You are not allowed to convert if it would put you over any position limit
– in the ETF or in the stocks. The order ID for conversions shares a namespace
with orders.
</p>
<p>
The reply will be either an ACK message or a REJECT message indicating whether
the conversion was successful or not. It is not possible for a conversion to
partially succeed
</p>
<p>
The corresponding JSON for the messages above would be:
</p>
<pre class="example"> {"type": "add", "order_id": 5, "symbol": "BOND", "dir": "BUY", "price": 123, "size": 50}
 {"type": "ack", "order_id": 5}
 {"type": "reject", "order_id": 5, "error": "REASON"}
 {"type": "fill", "order_id": 5, "symbol": "BOND", "dir": "BUY", "price": 123, "size": 10}
 {"type": "fill", "order_id": 5, "symbol": "BOND", "dir": "BUY", "price": 123, "size": 40}
 {"type": "out", "order_id": 5}
 {"type": "cancel", "order_id": 5}
</pre>


</div>

</div>

<div id="outline-container-6-9" class="outline-3">
<h3 id="sec-6-9"><span class="section-number-3">6.9</span> Public feed</h3>
<div class="outline-text-3" id="text-6-9">

<p>Trade and book messages constitute the anonymised public feed.
</p>
<pre class="example"> TRADE BOND 123 40
 {"type":"trade","symbol":"BOND","price":123,"size":40}
</pre>


<p>
means that 40 shares of BOND have traded at price $123 between two people (or
one person with themselves).
</p>
<pre class="example"> BOOK BOND BUY 125:12 124:100 100:1 SELL 127:4 128:15 140:100
 {"type":"book","symbol":"BOND","buy":[[125,12],[124,100],[100,1]],"sell":[[127,4],[128,15],[140,100]]}
</pre>


<p>
means that one or more people are willing to buy BOND for $125, and the sum of
the sizes of those orders is 12. (Willing to buy 100 shares of BOND for $124,
etc.) On the other side, there are people willing to sell up to 4 shares at
$127.
</p>
<p>
The book will be truncated to 15 price levels. It will be sorted
most-aggressive-first (i.e. bids are high-to-low, offers are low-to-high), so
that the best bid and offer are in the location indicated by "BEST" below:
</p>
<pre class="example"> BOOK BOND BUY BEST OTHERS... SELL BEST OTHERS...
 {"type":"book","symbol":"BOND","buy":[BEST, ...],"sell":[BEST, ...]}
</pre>


<p>
There are no guarantees about when you'll receive these messages in relation
to the private ones. Notably:
</p><ul>
<li>when you add an order, the "book" update to include your order may arrive
  before or after the ack (moreover, not necessarily immediately before or
  after)
</li>
<li>similarly for trade &amp; fill messages
</li>
</ul>


</div>

</div>

<div id="outline-container-6-10" class="outline-3">
<h3 id="sec-6-10"><span class="section-number-3">6.10</span> Market hours                    </h3>
<div class="outline-text-3" id="text-6-10">


<p>
You cannot add orders in a symbol when it is closed (or "halted"): attempting
to do so will produce a reject.
</p>
<p>
The exchange will start with all symbols closed. It will then open, sending you
an "open" message to inform you of this, and then after some period of time
close (sending you a "close" message). Shortly afterwards it will shut down,
simply closing its connection to you.
</p>
</div>
</div>

</div>

<div id="outline-container-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Running and testing your bots</h2>
<div class="outline-text-2" id="text-7">



</div>

<div id="outline-container-7-1" class="outline-3">
<h3 id="sec-7-1"><span class="section-number-3">7.1</span> Developing your bot                              </h3>
<div class="outline-text-3" id="text-7-1">

<p>We will be running this competition on Amazon EC2.
</p>
<p>
Each team will receive one Ubuntu Linux box in the cloud which is yours and
yours alone, which we'll call your "bot box". You can develop there if you wish,
or you can develop on your laptop and upload to your box. If you choose the
latter route, be sure to check that your binary actually works in the cloud.
</p>
<p>
When we create your team we will tell you the (public) IP address of your bot
box. To get started, log in to the box by opening a terminal on your laptop and
using ssh:
</p>
<pre class="example">ssh ubuntu@54.154.27.172 # Replace with your bot box's public IP
</pre>


<p>
If you'd like, you can change your password to something more memorable at this
point using the standard unix utility "passwd".
</p>
</div>

</div>

<div id="outline-container-7-2" class="outline-3">
<h3 id="sec-7-2"><span class="section-number-3">7.2</span> Testing your bot</h3>
<div class="outline-text-3" id="text-7-2">

<p>You also have access to three test exchanges where you can test out your bot.
The three exchanges run slightly different versions of the marketplace. On the
zeroth, the marketplace runs at the true competition speed and simulates real
rounds by restarting every five minutes. On the first, the marketplace runs
more slowly and does not restart. On the second, there is no marketplace – the
exchange is empty, ready for you to play around with.
</p>
<p>
The same symbols are available on the test exchanges as on the prod exchanges.
Each trial will have the same starting prices for all of the symbols, but the
price path after that is random – you should not expect them to remain
consistent between the test and prod exchanges, nor even between two different
games on a prod exchange.
</p>
</div>

</div>

<div id="outline-container-7-3" class="outline-3">
<h3 id="sec-7-3"><span class="section-number-3">7.3</span> Monitoring your bot</h3>
<div class="outline-text-3" id="text-7-3">

<p>You can see the scores from your previous production round here:
</p>
<p>
<a href="http://harvard.etc.janestreet.com:8080/go/last-round-results">http://harvard.etc.janestreet.com:8080/go/last-round-results</a>
</p>
<p>
Log in with your team name and password.
</p>

</div>

<div id="outline-container-7-3-1" class="outline-4">
<h4 id="sec-7-3-1"><span class="section-number-4">7.3.1</span> Test exchange host and ports                    </h4>
<div class="outline-text-4" id="text-7-3-1">

<p>If your team name is ORANGE, then your test exchanges can be found on the host
"test-exch-orange". If you need an IP address, you can find it like so:
</p>
<pre class="example">ubuntu@bot-orange:~$ host test-exch-orange
test-exch-orange has address 10.0.109.63   (for example)
</pre>


<p>
The plain text port for the three exchanges is 20000, 20001 and 20002 respectively;
the JSON ports are 25000, 25001 and 25002.
</p>
<p>
For example, you can connect to the zeroth test exchange using netcat:
</p>
<pre class="example">$ nc test-exch-teamname 20000  # Replace "teamname" with your team name here ...
HELLO TEAMNAME                 # ... and here (uppercase)
</pre>


<p>
You can see the current books on the test exchange, as well as all positions
and the history of trades, by replacing "teamname" with your team name in one
of the following URLs. Use your team name and password to log in.
</p>
<p>
<a href="http://harvard.etc.janestreet.com:8080/go/test-exch-prod-like">http://harvard.etc.janestreet.com:8080/go/test-exch-prod-like</a>
or <a href="http://harvard.etc.janestreet.com:8080/go/test-exch-slower">http://harvard.etc.janestreet.com:8080/go/test-exch-slower</a>
or <a href="http://harvard.etc.janestreet.com:8080/go/test-exch-empty">http://harvard.etc.janestreet.com:8080/go/test-exch-empty</a>
</p>
<p>
You can also see the result of your team's last production PnL, positions, and more at
</p>
<p>
<a href="http://harvard.etc.janestreet.com:8080/go/last-round-results">http://harvard.etc.janestreet.com:8080/go/last-round-results</a>
</p>
</div>
</div>

</div>

<div id="outline-container-7-4" class="outline-3">
<h3 id="sec-7-4"><span class="section-number-3">7.4</span> Running in production                           </h3>
<div class="outline-text-3" id="text-7-4">

<p>When you're ready to run your bot in production, have it connect to
the host "production" on port 20000 (plain text protocol) or the host
"production" on port 25000 (JSON protocol).
</p>
<p>
("production" is a hostname that will resolve via DNS. If you need an IP
address, use "1.1.1.1").
</p>
</div>

</div>

<div id="outline-container-7-5" class="outline-3">
<h3 id="sec-7-5"><span class="section-number-3">7.5</span> Rounds</h3>
<div class="outline-text-3" id="text-7-5">

<p>A game will last for five minutes, after which the exchange will shut down.
A new exchange will shortly start up and be available on the same address.
</p>
<p>
We don't carry your positions forward from one game to the next.
</p>
<p>
<b>BE CAREFUL</b> – you should not assume that the values of securities in one game
will be anywhere near the values in a previous game.
</p>
<p>
If your bot quits once its connection to the exchange goes down, you might want
to run your bot in a bash loop so that it automatically reconnects:
</p>
<pre class="example">while true; do ./bot.exe; sleep 5; done
</pre>


</div>
</div>

</div>

<div id="outline-container-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> Advice from the devs</h2>
<div class="outline-text-2" id="text-8">


</div>

<div id="outline-container-8-1" class="outline-3">
<h3 id="sec-8-1"><span class="section-number-3">8.1</span> Keep it simple</h3>
<div class="outline-text-3" id="text-8-1">

<p>Most of the time, a complicated algorithm is hard to think about and
hard to write.
</p>
</div>

</div>

<div id="outline-container-8-2" class="outline-3">
<h3 id="sec-8-2"><span class="section-number-3">8.2</span> Start trading early</h3>
<div class="outline-text-3" id="text-8-2">

<p>It's a good idea to find a strategy to make you money, and continue
using it throughout the competition. Since the scoring structure
makes it very profitable to start trading in the first hour of open
production exchanges, you should try to provide liquidity early.
</p>
</div>

</div>

<div id="outline-container-8-3" class="outline-3">
<h3 id="sec-8-3"><span class="section-number-3">8.3</span> If something seems like it should be solved for you already, it probably is</h3>
<div class="outline-text-3" id="text-8-3">

<p>In past competitions, people have spent lots of time doing low-level things like
writing line parsers for the TCP protocol. Every language that's been used in
past <code>etc</code> events has had the native ability, or had libraries readily available
to read whole lines from a socket.
</p>
</div>

</div>

<div id="outline-container-8-4" class="outline-3">
<h3 id="sec-8-4"><span class="section-number-3">8.4</span> Spend some time to make sure you can debug your bot</h3>
<div class="outline-text-3" id="text-8-4">

<p>When there's a problem with your bot, make sure you can figure out
what's going wrong. Many languages have built-in logging frameworks
or great 3rd party libraries for these. Printf can also be your friend.
</p>
</div>
</div>

</div>

<div id="outline-container-9" class="outline-2">
<h2 id="sec-9"><span class="section-number-2">9</span> Advice from the traders</h2>
<div class="outline-text-2" id="text-9">


</div>

<div id="outline-container-9-1" class="outline-3">
<h3 id="sec-9-1"><span class="section-number-3">9.1</span> Step 1: trading BOND</h3>
<div class="outline-text-3" id="text-9-1">

<p>BOND should be pretty straightforward to trade for positive
expectancy, since its fair value is known!  Buy it for less than 1000
or sell it for more than that and you're golden.  Fortunately,
there's a lot more of interest to come.
</p>
</div>

</div>

<div id="outline-container-9-2" class="outline-3">
<h3 id="sec-9-2"><span class="section-number-3">9.2</span> Step 2: trading the VALBZ/VALE ADR pair</h3>
<div class="outline-text-3" id="text-9-2">

<p>These are two stocks for which the fair value changes over time but is always
equal across the two.  VALBZ is the more liquid side, and so you'll
notice that it's a better source of price information, but its a lot
harder to make money trading.  Protip: use the more liquid leg (VALBZ) to
price out and trade the less liquid leg (VALE).  The position bounds
are tight, though, so you'll have to convert and trade both stocks if
you want to maximize your expected profits.
</p>
</div>

</div>

<div id="outline-container-9-3" class="outline-3">
<h3 id="sec-9-3"><span class="section-number-3">9.3</span> Step 3: the XLF ETF</h3>
<div class="outline-text-3" id="text-9-3">

<p>Now instead of a one-to-one relationship, you'll need to price out a
basket of stocks in order to trade XLF.  Again, due to the position
bounds, careful position management (and converting) and good execution methods will
be critical to success.
</p>
</div>

</div>

<div id="outline-container-9-4" class="outline-3">
<h3 id="sec-9-4"><span class="section-number-3">9.4</span> Get going!</h3>
<div class="outline-text-3" id="text-9-4">

<p>The earlier you can get something simple that works out into the
marketplace, the more time your bot can spend making profits.  Work
on version 2.0 while you're making money with version 1.0.
</p>
</div>

</div>

<div id="outline-container-9-5" class="outline-3">
<h3 id="sec-9-5"><span class="section-number-3">9.5</span> Maximize!</h3>
<div class="outline-text-3" id="text-9-5">

<p>If you're going to win this competition, it won't be good enough just
to have something that works.  Keep tuning and improving your
algorithms; maybe a simple change to one of your parameters could
double your profits per round.  Use the test exchange to experiment;
the marketplace bots there are exactly the same as on the competition exchange.
</p>
</div>
</div>

</div>

<div id="outline-container-10" class="outline-2">
<h2 id="sec-10"><span class="section-number-2">10</span> FAQ</h2>
<div class="outline-text-2" id="text-10">


</div>

<div id="outline-container-10-1" class="outline-3">
<h3 id="sec-10-1"><span class="section-number-3">10.1</span> My messages are being ignored!</h3>
<div class="outline-text-3" id="text-10-1">

<p>You need to send a newline after each message (even when using the JSON protocol).
</p>
</div>

</div>

<div id="outline-container-10-2" class="outline-3">
<h3 id="sec-10-2"><span class="section-number-3">10.2</span> Can I use &lt;favorite library&gt; or &lt;favorite search engine&gt;?</h3>
<div class="outline-text-3" id="text-10-2">

<p>You are welcome (and encouraged!) to search for solutions to problems, standard
libraries etc. online. But please don't download bot code, post online for
solutions, get someone to write code for you, or anything like that.
</p>




</div>
</div>
</div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2017-02-24T15:44-0500</p>
<p class="author">Author: Ubuntu</p>
<p class="creator"><a href="http://orgmode.org/">Org</a> version 7.9.3f with <a href="http://www.gnu.org/software/emacs/">Emacs</a> version 24</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>


</body></html>